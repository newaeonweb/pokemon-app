(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{jPtW:function(t,e,n){"use strict";n.r(e),n.d(e,"CardModule",function(){return W});var c=n("ofXK"),a=n("tyNb"),i=n("4u49"),r=n("mrSG"),s=n("tk/3"),o=n("LRne"),p=n("z6cu"),b=n("lJxs"),l=n("JIr8"),u=n("J4O8"),d=n("fXoL");const g="https://api.pokemontcg.io/v2";let h=(()=>{class t{constructor(t){this.httpClient=t}getCards(t){var e,n;let c=new s.e;return Object.values(t).every(t=>null===t||""===t)?(c=c.append("page","1"),c=c.append("pageSize","10"),c=c.append("orderBy","name")):(c.set("q",t.query),c=c.append("page",null===(e=t.page)||void 0===e?void 0:e.toString()),c=c.append("pageSize",null===(n=t.pageSize)||void 0===n?void 0:n.toString()),c=c.append("orderBy",t.orderBy)),this.httpClient.get(g+"/cards",{params:c}).pipe(Object(b.a)(t=>t),Object(l.a)(t=>this.handleError(t)))}getTypes(){return this.httpClient.get(g+"/types",Object(u.b)()).pipe(Object(b.a)(t=>t),Object(l.a)(()=>Object(o.a)("Error, could not load cards :-(")))}getSubtypes(){return this.httpClient.get(g+"/subtypes",Object(u.b)()).pipe(Object(b.a)(t=>t),Object(l.a)(()=>Object(o.a)("Error, could not load cards :-(")))}getSupetypes(){return this.httpClient.get(g+"/supertypes",Object(u.b)()).pipe(Object(b.a)(t=>t),Object(l.a)(()=>Object(o.a)("Error, could not load cards :-(")))}getWithFilters(t){console.log("\ud83d\ude80 - : PokemonService -> constructor -> req",t),Object.values(t).every(t=>null===t||""===t);let e=new s.e;return e=e.set("q",t.query),e=e.append("page",t.page.toString()),e=e.append("pageSize",t.pageSize.toString()),e=e.append("orderBy",t.orderBy),this.httpClient.get("https://api.pokemontcg.io/v2/cards",{params:e}).pipe(Object(b.a)(t=>t),Object(l.a)(()=>Object(o.a)("Error, could not load cards :-(")))}handleError(t){return t.error instanceof ErrorEvent?Object(p.a)("Ohps something wrong happen here; please try again later."):Object(p.a)(t)}}return t.\u0275fac=function(e){return new(e||t)(d.Yb(s.b))},t.\u0275prov=d.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var B=n("cp0P"),f=n("vkgz"),y=n("nYR2"),m=n("XiUz"),v=n("sYmb"),T=n("kmnG"),O=n("d3UM"),U=n("3Pt+"),S=n("FKr1"),j=n("bTqV"),F=n("ogi/"),L=n("Wp6s"),C=n("M9IT");const x=["paginator"];function D(t,e){if(1&t&&(d.Ub(0,"mat-option",13),d.Bc(1),d.Tb()),2&t){const t=e.$implicit;d.lc("value",t),d.Db(1),d.Dc(" ",t,"")}}function z(t,e){if(1&t&&(d.Ub(0,"mat-option",13),d.Bc(1),d.Tb()),2&t){const t=e.$implicit;d.lc("value",t),d.Db(1),d.Dc(" ",t,"")}}function w(t,e){if(1&t&&(d.Ub(0,"mat-option",13),d.Bc(1),d.Tb()),2&t){const t=e.$implicit;d.lc("value",t),d.Db(1),d.Dc(" ",t,"")}}function P(t,e){1&t&&(d.Ub(0,"div",1),d.Bc(1,"No records found"),d.Tb())}function q(t,e){if(1&t&&(d.Ub(0,"span"),d.Bc(1),d.Tb()),2&t){const t=e.$implicit;d.Db(1),d.Cc(t)}}function M(t,e){if(1&t&&(d.Ub(0,"span"),d.Bc(1,"\n                  "),d.Ub(2,"strong"),d.Bc(3,"Types:"),d.Tb(),d.Bc(4),d.Tb()),2&t){const t=e.$implicit;d.Db(4),d.Dc("\n                  ",t,"\n                ")}}function k(t,e){if(1&t&&(d.Sb(0),d.Bc(1,"\n      "),d.Ub(2,"div",4),d.Bc(3,"\n        "),d.Ub(4,"mat-card"),d.Bc(5,"\n          "),d.Ub(6,"mat-card-header"),d.Bc(7,"\n            "),d.Ub(8,"mat-card-title"),d.Bc(9,"\n              "),d.Ub(10,"div",14),d.Bc(11,"\n                "),d.Ub(12,"span",15),d.Bc(13),d.Tb(),d.Bc(14,"\n                "),d.Ub(15,"small",16),d.Bc(16),d.Tb(),d.Bc(17,"\n              "),d.Tb(),d.Bc(18,"\n            "),d.Tb(),d.Bc(19,"\n            "),d.Ub(20,"mat-card-subtitle"),d.Bc(21,"\n              "),d.Ub(22,"p"),d.Bc(23,"\n                "),d.Ub(24,"strong"),d.Bc(25," Supertype:"),d.Tb(),d.Bc(26),d.Pb(27,"br"),d.Bc(28,"\n                "),d.Ub(29,"strong"),d.Bc(30," Subtypes:"),d.Tb(),d.Bc(31,"\n                "),d.zc(32,q,2,1,"span",11),d.Bc(33," "),d.Pb(34,"br"),d.Bc(35,"\n\n                "),d.zc(36,M,5,1,"span",11),d.Bc(37,"\n              "),d.Tb(),d.Bc(38,"\n            "),d.Tb(),d.Bc(39,"\n          "),d.Tb(),d.Bc(40,"\n\n          "),d.Ub(41,"mat-card-content"),d.Bc(42,"\n            "),d.Ub(43,"div",17),d.Bc(44,"\n              "),d.Pb(45,"img",18),d.Bc(46,"\n            "),d.Tb(),d.Bc(47,"\n          "),d.Tb(),d.Bc(48,"\n        "),d.Tb(),d.Bc(49,"\n      "),d.Tb(),d.Bc(50,"\n    "),d.Rb()),2&t){const t=e.$implicit;d.Db(13),d.Dc(" ",t.name,""),d.Db(2),d.lc("hidden",!t.hp),d.Db(1),d.Dc("HP: ",t.hp,""),d.Db(10),d.Dc(" ",t.supertype," "),d.Db(6),d.lc("ngForOf",t.subtypes),d.Db(4),d.lc("ngForOf",t.types),d.Db(9),d.mc("src",t.images.small,d.uc),d.mc("alt",t.name)}}const I=function(){return[10,20,50,100,200]};function A(t,e){if(1&t&&(d.Ub(0,"mat-paginator",19,20),d.Bc(2,"\n  "),d.Tb()),2&t){const t=d.gc();d.lc("length",t.totalCount)("pageSize",t.pageSize)("pageSizeOptions",d.nc(3,I))}}let R=(()=>{class t{constructor(t,e,n){this.pokemonService=t,this.route=e,this.router=n,this.isLoading=!1,this.isRecordsFound=!1,this.filters={types:"",subtypes:"",supertypes:""},this.request={}}ngOnInit(){this.buildPaginationRequest(),this.loadData(this.request),this.loadFilters().pipe(Object(f.a)(t=>{this.typesList=t[0].data,this.subtypesList=t[1].data,this.supertypesList=t[2].data,console.log(t)})).subscribe()}ngAfterViewInit(){this.paginator.page.subscribe(()=>{this.request.page=this.paginator.pageIndex+1,this.request.pageSize=this.paginator.pageSize,this.request.orderBy="name",this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:this.request,queryParamsHandling:"merge"}),this.loadData(this.request)})}buildPaginationRequest(){this.route.queryParams.subscribe(t=>{this.activatedRoute=this.route.parent,this.request=Object.assign({},t)})}loadData(t){this.isLoading=!0,this.cards$=this.pokemonService.getCards(t).pipe(Object(l.a)(t=>Object(r.a)(this,void 0,void 0,function*(){return this.isRecordsFound=!0})),Object(y.a)(()=>this.isLoading=!1),Object(f.a)(t=>{this.page=t.page,this.pageSize=t.pageSize,this.totalCount=t.totalCount}),Object(b.a)(t=>t.data))}loadFilters(){const t=this.pokemonService.getTypes(),e=this.pokemonService.getSubtypes(),n=this.pokemonService.getSupetypes();return Object(B.a)([t,e,n])}applyFilterTypes(){}applyFilterSubtypes(){}applyFilterSupertypes(){}applyAllFilters(t="",e=1,n=10,c="name"){this.isLoading=!0;const{supertypes:a,types:i,subtypes:r}=this.filters;this.cards$=this.pokemonService.getWithFilters({query:`supertype:${a} types:${i} subtypes:${r}`,page:e,pageSize:n,orderBy:c}).pipe(Object(y.a)(()=>this.isLoading=!1),Object(f.a)(t=>{0!==t.data.length&&void 0!==t.data?(this.isRecordsFound=!1,this.page=t.page,this.pageSize=t.pageSize,this.totalCount=t.totalCount):this.isRecordsFound=!0}),Object(b.a)(t=>t.data))}}return t.\u0275fac=function(e){return new(e||t)(d.Ob(h),d.Ob(a.a),d.Ob(a.e))},t.\u0275cmp=d.Ib({type:t,selectors:[["app-card-list"]],viewQuery:function(t,e){if(1&t&&d.Ec(x,1),2&t){let t;d.qc(t=d.dc())&&(e.paginator=t.first)}},decls:97,vars:12,consts:[[1,"container"],["fxLayout","row","fxLayoutAlign","center start"],["translate",""],["fxLayout","row wrap","fxLayoutGap","16px grid","fxLayout.lt-sm","column","fxLayoutAlign","space-between center"],["fxFlex","25%","fxFlex.lt-md","50%","fxFlex.lt-sm","100%"],[3,"ngModel","selectionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",3,"click"],[3,"isLoading"],["fxLayout","row","fxLayoutAlign","center start",4,"ngIf"],["fxLayout","row wrap","fxLayoutGap","16px grid","fxLayout.lt-sm","column","fxLayoutAlign","start center","fxLayoutAlign.lt-sm","start center"],[4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions",4,"ngIf"],[3,"value"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex",""],[3,"hidden"],[1,"img-placeholder"],["loading","lazy",3,"src","alt"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions"],["paginator",""]],template:function(t,e){1&t&&(d.Ub(0,"div",0),d.Bc(1,"\n  "),d.Ub(2,"div",1),d.Bc(3,"\n    "),d.Ub(4,"h1",2),d.Bc(5,"Pokemon Cards"),d.Tb(),d.Bc(6,"\n  "),d.Tb(),d.Bc(7,"\n  "),d.Ub(8,"div",3),d.Bc(9,"\n    "),d.Ub(10,"div",4),d.Bc(11,"\n      "),d.Ub(12,"mat-form-field"),d.Bc(13,"\n        "),d.Ub(14,"mat-label"),d.Ub(15,"span",2),d.Bc(16,"Filter by supertypes"),d.Tb(),d.Tb(),d.Bc(17,"\n        "),d.Ub(18,"mat-select",5),d.cc("selectionChange",function(){return e.applyFilterSupertypes()})("ngModelChange",function(t){return e.filters.supertypes=t}),d.Bc(19,"\n          "),d.Ub(20,"mat-option"),d.Ub(21,"span",2),d.Bc(22,"All"),d.Tb(),d.Tb(),d.Bc(23,"\n          "),d.zc(24,D,2,2,"mat-option",6),d.Bc(25,"\n        "),d.Tb(),d.Bc(26,"\n      "),d.Tb(),d.Bc(27,"\n    "),d.Tb(),d.Bc(28,"\n    "),d.Ub(29,"div",4),d.Bc(30,"\n      "),d.Ub(31,"mat-form-field"),d.Bc(32,"\n        "),d.Ub(33,"mat-label"),d.Ub(34,"span",2),d.Bc(35,"Filter by types"),d.Tb(),d.Tb(),d.Bc(36,"\n        "),d.Ub(37,"mat-select",5),d.cc("selectionChange",function(){return e.applyFilterTypes()})("ngModelChange",function(t){return e.filters.types=t}),d.Bc(38,"\n          "),d.Ub(39,"mat-option"),d.Ub(40,"span",2),d.Bc(41,"All"),d.Tb(),d.Tb(),d.Bc(42,"\n          "),d.zc(43,z,2,2,"mat-option",6),d.Bc(44,"\n        "),d.Tb(),d.Bc(45,"\n      "),d.Tb(),d.Bc(46,"\n    "),d.Tb(),d.Bc(47,"\n    "),d.Ub(48,"div",4),d.Bc(49,"\n      "),d.Ub(50,"mat-form-field"),d.Bc(51,"\n        "),d.Ub(52,"mat-label"),d.Ub(53,"span",2),d.Bc(54,"Filter by subtypes"),d.Tb(),d.Tb(),d.Bc(55,"\n        "),d.Ub(56,"mat-select",5),d.cc("selectionChange",function(){return e.applyFilterSubtypes()})("ngModelChange",function(t){return e.filters.subtypes=t}),d.Bc(57,"\n          "),d.Ub(58,"mat-option"),d.Ub(59,"span",2),d.Bc(60,"All"),d.Tb(),d.Tb(),d.Bc(61,"\n          "),d.zc(62,w,2,2,"mat-option",6),d.Bc(63,"\n        "),d.Tb(),d.Bc(64,"\n      "),d.Tb(),d.Bc(65,"\n    "),d.Tb(),d.Bc(66,"\n\n    "),d.Ub(67,"div",4),d.Bc(68,"\n      "),d.Ub(69,"button",7),d.cc("click",function(){return e.applyAllFilters()}),d.Bc(70,"\n        "),d.Ub(71,"span",2),d.Bc(72,"Apply Filters"),d.Tb(),d.Bc(73,"\n      "),d.Tb(),d.Bc(74,"\n    "),d.Tb(),d.Bc(75,"\n  "),d.Tb(),d.Bc(76,"\n\n  "),d.Pb(77,"br"),d.Bc(78,"\n\n  "),d.Ub(79,"div",1),d.Bc(80,"\n    "),d.Pb(81,"app-loader",8),d.Bc(82,"\n  "),d.Tb(),d.Bc(83,"\n\n  "),d.zc(84,P,2,0,"div",9),d.Bc(85,"\n\n  "),d.Ub(86,"div",10),d.Bc(87,"\n    "),d.zc(88,k,51,8,"ng-container",11),d.hc(89,"async"),d.Bc(90,"\n  "),d.Tb(),d.Bc(91,"\n  "),d.Pb(92,"br"),d.Bc(93,"\n  "),d.zc(94,A,3,4,"mat-paginator",12),d.Bc(95,"\n"),d.Tb(),d.Bc(96,"\n")),2&t&&(d.Db(18),d.lc("ngModel",e.filters.supertypes),d.Db(6),d.lc("ngForOf",e.supertypesList),d.Db(13),d.lc("ngModel",e.filters.types),d.Db(6),d.lc("ngForOf",e.typesList),d.Db(13),d.lc("ngModel",e.filters.subtypes),d.Db(6),d.lc("ngForOf",e.subtypesList),d.Db(19),d.lc("isLoading",e.isLoading),d.Db(3),d.lc("ngIf",e.isRecordsFound),d.Db(4),d.lc("ngForOf",d.ic(89,10,e.cards$)),d.Db(6),d.lc("ngIf",!e.isRecordsFound))},directives:[m.c,m.b,v.a,m.d,m.a,T.b,T.e,O.a,U.h,U.j,S.m,c.j,j.a,F.a,c.k,L.a,L.d,L.g,L.f,L.c,C.a],pipes:[c.b],styles:["[_nghost-%COMP%]   .mat-card-header-text[_ngcontent-%COMP%]{margin:0;width:100%}.img-placeholder[_ngcontent-%COMP%]{background-color:#f0f8ff;max-width:245px;margin:0 auto;padding:0;height:auto;min-height:285px;border-radius:10px}.img-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .mat-flat-button[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})();const $=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){console.log("cards")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Ib({type:t,selectors:[["app-card"]],decls:5,vars:0,consts:[[1,"app-container"]],template:function(t,e){1&t&&(d.Ub(0,"div",0),d.Bc(1,"\n  "),d.Pb(2,"router-outlet"),d.Bc(3,"\n"),d.Tb(),d.Bc(4,"\n"))},directives:[a.j],styles:[".container[_ngcontent-%COMP%]{text-align:center;padding:1rem}"]}),t})(),data:{title:Object(i.a)("Card")},children:[{path:"",component:R}]}];let E=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Mb({type:t}),t.\u0275inj=d.Lb({providers:[],imports:[[a.i.forChild($)],a.i]}),t})();var _=n("YUcS"),J=n("vvyD"),G=n("9urI");let W=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Mb({type:t}),t.\u0275inj=d.Lb({imports:[[c.c,U.d,v.b,_.a,G.a,J.a,E]]}),t})()}}]);